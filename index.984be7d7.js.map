{"mappings":"YAAe,SAAAA,IACb,MAAO,CAGLC,gBAAiBC,SAASC,cAAc,sBACxCC,iBAAkBF,SAASC,cAAc,UACzCE,MAAOH,SAASC,cAAc,gBAC9BG,SAAUJ,SAASC,cAAc,aACjCI,OAAQL,SAASC,cAAc,QAG/BK,SAAUN,SAASC,cAAc,QACjCM,gBAAiBP,SAASC,cAAc,mB,CCX5C,IAAMO,EAAOV,I,IA6CbW,EA5CA,WAqBE,SAASC,EAASC,GAChBH,EAAKL,MAAMS,UAAUC,IAAI,aACzBL,EAAKF,SAASM,UAAUE,OAAO,aAC/BN,EAAKH,OAAOO,UAAUG,OAAO,Y,CAG/B,SAASC,EAAcC,GACA,WACJA,EAAMC,MAErBR,G,CA9BJF,EAAKT,gBAAgBoB,iBAAiB,SAWtC,SAAkBR,GAChBA,EAAIS,iBACJC,QAAQC,IAAI,qBACZC,OAAOJ,iBAAiB,UAAWH,GACnCR,EAAKL,MAAMS,UAAUE,OAAO,aAC5BN,EAAKF,SAASM,UAAUC,IAAI,aAC5BL,EAAKH,OAAOO,UAAUG,OAAO,Y,IAhB/BP,EAAKN,iBAAiBiB,iBAAiB,QAAST,GAChDF,EAAKJ,SAASe,iBAAiB,SAgC/B,SAAyBF,GACnBA,EAAMO,gBAAkBP,EAAMQ,SAChCjB,EAAKL,MAAMS,UAAUC,IAAI,aACzBL,EAAKF,SAASM,UAAUE,OAAO,aAC/BJ,I,IAlCJV,SAASmB,iBAAiB,YAAY,SAAUO,GAC9CL,QAAQC,IAAII,EAAER,MACC,WAAXQ,EAAER,MACJR,G,KCTAiB,EAAO7B,KACb,WACI,IACM8B,EAAaD,EAAKpB,gBAAgBsB,iBAExCF,EAAKpB,gBAAgBuB,MAAMC,gBAAkB,GAAiBC,OAAdJ,EAAW,KAAcI,OAAXJ,GAC9DD,EAAKpB,gBAAgBuB,MAAMG,WAAa,yBAExC,IAAMC,EAAS,W,OAAMX,OAAOY,aAAenC,SAASoC,gBAAgBC,S,EASpEd,OAAOJ,iBAAiB,UAAU,WAPT,IACfmB,EACAC,EADAD,EAAStC,SAASoC,gBAAgBI,aAAejB,OAAOkB,YACxDF,EAAaX,EAAaM,IAAYN,EAAcU,EAE1DX,EAAKpB,gBAAgBuB,MAAMY,iBAAmBH,EAK1CL,IAjBO,IAkBPP,EAAKrB,SAASM,UAAUC,IAAI,eAE5Bc,EAAKrB,SAASM,UAAUE,OAAO,c,IAIvCa,EAAKrB,SAASa,iBAAiB,SAAS,WACpCI,OAAOoB,SAAS,CACZC,IAAK,EACLC,SAAU,U,KC1BtB,GACApC,G","sources":["src/js/get-refs.js","src/js/footer-modal-open.js","src/js/top.js","src/index.js"],"sourcesContent":["export default function getRefs() {\n  return {\n\n    //  footer-modal\n    footerModalOpen: document.querySelector('.footer-modal-open'),\n    footerModalClose: document.querySelector('.close'),\n    modal: document.querySelector('[data-modal]'),\n    backdrop: document.querySelector('.backdrop'),\n    bodyEl: document.querySelector('body'),\n\n    // top.js\n    scrollUp: document.querySelector('.top'),\n    scrollUpSvgPath: document.querySelector('.top__svg--path'),\n  };\n}\n","import getRefs from './get-refs';\nconst refs = getRefs();\nfunction footerModal() {\n  refs.footerModalOpen.addEventListener('click', footerMO);\n  refs.footerModalClose.addEventListener('click', footerMC);\n  refs.backdrop.addEventListener('click', onBackdropClick);\n\n  document.addEventListener('keypress', function (e) {\n    console.log(e.code);\n    if (e.code === 'Escape') {\n      footerMC();\n    }\n  });\n\n  function footerMO(evt) {\n    evt.preventDefault();\n    console.log('open modal footer');\n    window.addEventListener('keydown', onEscKeyPress);\n    refs.modal.classList.remove('is-hidden');\n    refs.scrollUp.classList.add('is-hidden');\n    refs.bodyEl.classList.toggle('no-scroll');\n  }\n\n  function footerMC(evt) {\n    refs.modal.classList.add('is-hidden');\n    refs.scrollUp.classList.remove('is-hidden');\n    refs.bodyEl.classList.toggle('no-scroll');\n  }\n\n  function onEscKeyPress(event) {\n    const ESC_KEY_CODE = 'Escape';\n    const isEscKey = event.code === ESC_KEY_CODE;\n    if (isEscKey) {\n      footerMC(event);\n    }\n  }\n\n  function onBackdropClick(event) {\n    if (event.currentTarget === event.target) {\n      refs.modal.classList.add('is-hidden');\n      refs.scrollUp.classList.remove('is-hidden');\n      footerMC();\n    }\n  }\n}\n\nexport default footerModal;\n","import getRefs from './get-refs';\nconst refs = getRefs();\nfunction topUp() {\n    const offset = 600;\n    const pathLength = refs.scrollUpSvgPath.getTotalLength();\n\n    refs.scrollUpSvgPath.style.strokeDasharray = `${pathLength} ${pathLength}`;\n    refs.scrollUpSvgPath.style.transition = 'stroke-dashoffset 20ms';\n\n    const getTop = () => window.pageXOffset || document.documentElement.scrollTop;\n\n    const updateDashoffset = () => {\n        const height = document.documentElement.scrollHeight - window.innerHeight;\n        const dashoffset = pathLength - (getTop() * pathLength) / height;\n\n        refs.scrollUpSvgPath.style.strokeDashoffset = dashoffset;\n    };\n\n    window.addEventListener('scroll', () => {\n        updateDashoffset();\n        if (getTop() > offset) {\n            refs.scrollUp.classList.add('top--active');\n        } else {\n            refs.scrollUp.classList.remove('top--active');\n        }\n    });\n\n    refs.scrollUp.addEventListener('click', () => {\n        window.scrollTo({\n            top: 0,\n            behavior: 'smooth',\n        });\n    });\n}\nexport default topUp;\n","\nimport footerModal from './js/footer-modal-open';\nimport topUp from './js/top.js';\n\ntopUp();\nfooterModal();\n"],"names":["$28e87b1ff6534a73$export$2e2bcd8739ae039","footerModalOpen","document","querySelector","footerModalClose","modal","backdrop","bodyEl","scrollUp","scrollUpSvgPath","$1ee23e05c401c59b$var$refs","$1ee23e05c401c59b$export$2e2bcd8739ae039","footerMC","evt","classList","add","remove","toggle","onEscKeyPress","event","code","addEventListener","preventDefault","console","log","window","currentTarget","target","e","$982ea99943f2642e$var$refs","pathLength","getTotalLength","style","strokeDasharray","concat","transition","getTop","pageXOffset","documentElement","scrollTop","height","dashoffset","scrollHeight","innerHeight","strokeDashoffset","scrollTo","top","behavior"],"version":3,"file":"index.984be7d7.js.map"}